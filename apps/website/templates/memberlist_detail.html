{% extends "base.html" %}
{% load staticfiles %}

{% block require_js %}
<script>
  require(['src/views/member-list',
           'src/views/memberlist-detail'
  ], function(MemberListView, MemberListDetailView) {
    new MemberListView();
    new MemberListDetailView();
  });
</script>
{% endblock %}

{% block content %}
<h2>{{ memberlist }}</h2>
<br>

<div class="centered col-sm-6">
  <table class="left-align table table-hover table-clickable">
    <tr>
      <th>#</th>
      <th>First Name</th>
      <th>Last Name</th>
      <th>Email</th>
    </tr>
    {% for member in memberlist.members.all %}
    <tr href="{{ member.get_absolute_url }}">
      <td>{{ forloop.counter }}</td>
      <td>{{ member.firstname }}</td>
      <td>{{ member.lastname }}</td>
      <td>{{ member.email }}</td>
    </tr>
    {% endfor %}
  </table>
  <br>
  <a class="btn btn-primary" href="{{ memberlist.get_send_mail_url }}">Send message to memberlist</a>
  <a class="btn btn-primary" href="{{ memberlist.get_update_url }}">Update memberlist</a>

  <input id="memberlist-id" type="hidden" value="{{ memberlist.pk }}">
  <button id="memberlist-delete" class="btn btn-danger">Delete memberlist</button>
</div>
{% endblock %}
