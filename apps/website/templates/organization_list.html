{% extends "base.html" %}
{% load staticfiles %}

{% block require_js %}
<script>
  require(['src/views/organization-list'], function(OrganizationListView) {
    new OrganizationListView();
  });
</script>
{% endblock %}

{% block content %}
<p>Hello, {{ user }}</p>
<div class="center-align col-md-6">
  <h3>Your Organizations</h3>
  <br>
  <div id="organization-container" class="centered col-md-6">
    <table class="table">
      {% for org in organizations %}
      <tr>
        <td><a href="{{ org.get_absolute_url }}"><h4>{{ org }}</h4></a></td>
        <td><a href="{{ org.get_update_url }}" class="btn btn-warning">Update</a></td>
        <td><a data-organization-id="{{ org.pk }}" class="organization-delete btn btn-danger">Delete</a></td>
      </tr>
      {% empty %}
      <tr>
        <td>You own no Organizations.</td>
      </tr>
      {% endfor %}
    </table>
    <a class="btn btn-primary" href="/organizations/create">Add Organization</a>
  </div>
</div>

<div class="center-align col-md-6">
  <h3>Organizations You Have Access To</h3>
  <br>
  <div class="centered col-md-6">
    <table class="table">
      {% for org in privileged_organizations %}
      <tr>
        <td><a href="{{ org.get_absolute_url }}"><h4>{{ org }}</h4></a></td>
      </tr>
      {% empty %}
      <tr>
        <td>You have access to no other Organizations.</td>
      </tr>
      {% endfor %}
    </table>
  </div>
</div>
{% endblock %}
